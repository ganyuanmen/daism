#!/bin/bash

# 生成 AES-GCM Key
AES_KEY=$(head -c 32 /dev/urandom | base64)

# 构建镜像
docker build  \
  --build-arg NEXT_SERVER_ACTIONS_ENCRYPTION_KEY="$AES_KEY" \
  --build-arg NEXT_PUBLIC_DOMAIN="sepolia.50satoshis.com" \
  --build-arg NEXT_PUBLIC_BLOCKCHAIN_NETWORK="sepolia" \
  --build-arg NEXT_PUBLIC_HTTPS_URL="https://sepolia.infura.io/v3/2e68e4d6017344cd89bab57981783954" \
  --build-arg NEXT_PUBLIC_ADMI_ACTOR="0xB39D48f4167519ADa7a769875966907189CA13E2" \
  --build-arg NEXT_PUBLIC_SITEMANAGER="0xFC2C722b8fe7B3Ca277D349Cbad6D2c5ce2eCF9C" \
  --build-arg NEXT_PUBLIC_TOTAL="4096" \
  --build-arg NEXT_PUBLIC_SCREGISTRAR="0x9B98114Aa6B6f9978c517b5f350fA42171Cc59b2" \
  --build-arg NEXT_PUBLIC_IADD="0x4312A944631bB6Dc429524f8613766dbCE76efD0" \
  --build-arg NEXT_PUBLIC_UNITTOKEN="0xCcFbDd1f940146848aEd53e2aE4F5354882f0Ad3" \
  --build-arg NEXT_PUBLIC_SCTOKEN="0x07239A579473245cdDaA8Cd08C72E81fF94F2e1A" \
  --build-arg NEXT_PUBLIC_COMMULATE="0x140Cb4497eAF4CC17719310D7E8Ea816E7811B3e" \
  --build-arg NEXT_PUBLIC_SC="0xA8e1bb0FC7D7A3d7b14EC18BC36B4B66FFB1Eaa5" \
  --build-arg NEXT_PUBLIC_UNITNFT="0x9B43031Fee739339569fB326927B8cAD1b5228E4" \
  --build-arg NEXT_PUBLIC_DAISMDOMAIN="0x7a0453150EE99Db2AEf6561A4a063a71CbE126f8" \
  --build-arg NEXT_PUBLIC_DAISMNFT="0x5664057293B1D270Cb40b93493f7141a9DdeB0CE" \
  --build-arg NEXT_PUBLIC_DAISMSINGLENFT="0x1eAddC834A115a7150c41Ad4E09FB7fb7eCdE37a" \
  --build-arg NEXT_PUBLIC_DAiSMIADDPROXY="0x5A123D05A7c45b877be1cE39200351907B397F03" \
  --build-arg NEXT_PUBLIC_DONATION="0x881fb354Af51924c41c79F090b4A9B07B46B4890" \
  -t myapp:latest \
  -f prod.Dockerfile .

# docker tag daismapp:latest fhtcgym123/daismapp:latest
# docker push fhtcgym123/daismapp:latest

